<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="UnreliableActiveMQEsbChannel_files/filelist.xml">
<link rel=Edit-Time-Data href="UnreliableActiveMQEsbChannel_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Performance Data for the UnreliableActiveMQEsbChannel</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Abhishek</o:Author>
  <o:LastAuthor>Abhishek</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>63</o:TotalTime>
  <o:Created>2009-12-15T04:25:00Z</o:Created>
  <o:LastSaved>2009-12-15T04:25:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>371</o:Words>
  <o:Characters>2117</o:Characters>
  <o:Company>SCHOOL</o:Company>
  <o:Lines>17</o:Lines>
  <o:Paragraphs>4</o:Paragraphs>
  <o:CharactersWithSpaces>2484</o:CharactersWithSpaces>
  <o:Version>11.5606</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
@page Section1
	{size:8.5in 11.0in;
	margin:.5in 1.25in 45.0pt 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:104547455;
	mso-list-type:hybrid;
	mso-list-template-ids:34252540 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1
	{mso-list-id:239409557;
	mso-list-template-ids:642563868;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt'>The UnreliableActiveMQEsbChannel<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-right:-.5in'>At the time of writing this
document, the UnreliableActiveMQEsbChannel is a
CheckpointedCommunicationChannel with a very simple Checkpointing mechanism in
place.</p>

<p class=MsoNormal style='margin-right:-.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-right:-.5in'>The Channel internally uses the
messaging provided of Apache ActiveMQ. ActiveMQ is an implementation of the JMS
1.1 spec. (Java Messaging Services). In brief, JMS defines various types of
messaging </p>

<p class=MsoNormal style='margin-right:-.5in'>like point-to-point (via Message
Queues) and Publish-Subscribe (via Topics). The UnreliableActiveMQEsbChannel
uses the publish-subscribe mechanism. Each Channel proxy subscribes to a
particular topic. </p>

<p class=MsoNormal style='margin-right:-.5in'>Every time that a message is
published on this topic is received by each channel proxy that has subscribed
to the topic.</p>

<p class=MsoNormal style='margin-right:-.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt'>Usage<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'>SetUp Apache ActiveMQ:<o:p></o:p></b></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='margin-right:-.5in;mso-list:l0 level1 lfo3;
     tab-stops:list .5in'>Download the Apache ActiveMQ from here <a
     href="http://activemq.apache.org/activemq-530-release.html">activemq-530</a>
     </li>
 <li class=MsoNormal style='margin-right:-.5in;mso-list:l0 level1 lfo3;
     tab-stops:list .5in'>Unzip the folder to &lt;Apache ActiveMQ Install
     Location&gt;</li>
 <li class=MsoNormal style='margin-right:-.5in;mso-list:l0 level1 lfo3;
     tab-stops:list .5in'>Navigate to &lt;Apache ActiveMQ Install
     Location&gt;\bin</li>
 <li class=MsoNormal style='margin-right:-.5in;mso-list:l0 level1 lfo3;
     tab-stops:list .5in'>Run activemq.bat. This will start the ActiveMQ server
     on your system.</li>
</ol>

<p class=MsoNormal style='margin-right:-.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt'>Testing the UnreliableActiveMQEsbChannel<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-right:-.5in'>There is a Text liveobject that
uses the UnreliableActiveMQEsbChannel. Its called TestActiveMQEsb.liveobject</p>

<p class=MsoNormal align=center style='margin-right:-.5in;text-align:center'><b
style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt'>Performance Data for the
UnreliableActiveMQEsbChannel<o:p></o:p></span></b></p>

<p class=MsoNormal align=center style='margin-right:-.5in;text-align:center'><b
style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'>Test Environment:<o:p></o:p></b></p>

<p class=MsoNormal style='margin-right:-.5in'>The test environment was very
simplistic and I tried to stay away from network delays. So all the components
(the proxies and the ActiveMQ Server) are present on a single system. </p>

<p class=MsoNormal style='margin-right:-.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'>Testing Strategy:<o:p></o:p></b></p>

<p class=MsoNormal style='margin-right:-.5in'>I wrote a Channel Client that
connects to the UnreliableActiveMQEsbChannel and fires messages at different
rates. Another Channel Client receives these messages and calculates the delay
between the time the message was sent by the Disseminator and it was received
by the Receiver. I tested for the following different rates 1000, 500, 100, 50,
25 and 5 msgs/second. </p>

<p class=MsoNormal style='margin-right:-.5in'>I haven’t carried out the tests
for proxies spread out on different systems but that is the ideal way ahead.
That sort of test will end up testing the message dissemination capabilities of
the ActiveMQEsbServer when multiple proxies are subscribed to a particular
topic. On a single system, having multiple proxies vying for processor time
will not reflect the pure dissemination delay that we are interested in.</p>

<p class=MsoNormal style='margin-right:-.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'>Results:<o:p></o:p></b></p>

<p class=MsoNormal style='margin-right:-.5in'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='margin-right:-.5in'>The figure below shows the
results of the tests that were carried out. </p>

<p class=MsoNormal style='margin-right:-.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-right:-.5in'>At the rate of 5 msgs/second, the
average delay turned out to be approximately 5 milliseconds. It is not
represented on the graph owing to the scale.</p>

<p class=MsoNormal style='margin-right:-.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-right:-.5in'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:721.5pt;
 height:461.25pt'>
 <v:imagedata src="UnreliableActiveMQEsbChannel_files/image001.emz" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=962 height=615
src="UnreliableActiveMQEsbChannel_files/image002.gif" v:shapes="_x0000_i1025"><![endif]><b
style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>

</div>

</body>

</html>
